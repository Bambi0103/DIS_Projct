<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Guess the player</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <script src="https://unpkg.com/htmx.org@1.9.12" defer></script>
</head>
<body>
<header class="hero">
    <h1>Guess the player</h1>
</header>

<div style="display:flex;justify-content:center;align-items:center;height:100vh;flex-direction:column;">
    <input type="search"
           name="full_name"
           class="search-bar"
           placeholder="Guess the player..."
           hx-get="{{ url_for('search.player_search') }}"
           hx-trigger="input changed delay:10ms"
           hx-target="#playerList"
           list="playerList"
           id="playerSearch"
           aria-label="Search for a player"
           autocomplete="off"
           style="width:400px;height:40px;font-size:16px;"
           hx-trigger="keyup[key=='Enter']"
           hx-post="{{ url_for('search.make_guess') }}"
           hx-include="#playerSearch"
           hx-target="#results" />

    <button type="button"
            class="search-button"
            hx-post="{{ url_for('search.make_guess') }}"
            hx-include="#playerSearch"
            hx-trigger="click"
            hx-target="#results">
        Guess
    

    <datalist id="playerList"></datalist>

    <!--Where comparison results can be shown-->
    <div id="results" style="background-color: #ffffff;"></div>
    <!--Below is GPT implementation for easily copying data for inspection-->
    <button type="button" onclick="copyResultsToClipboard()" style="margin-top:10px;">Copy Results</button>
    <script>
        function copyResultsToClipboard() {
            const resultsDiv = document.getElementById('results');
            if (resultsDiv) {
                const text = resultsDiv.innerText || resultsDiv.textContent;
                navigator.clipboard.writeText(text);
            }
        }
    </script>
</div>
</body>
</html>
